window.lpTag=window.lpTag||{};lpTag.firstParty=!0;window.lpTag=window.lpTag||{};window.lpTag.lzString=window.lpTag.lzString||(()=>{var y=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(e,t){if(!o[e]){o[e]={};for(var r=0;r<e.length;r++)o[e][e.charAt(r)]=r}return o[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,function(e){return r.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:i._decompress(t.length,32,function(e){return a(r,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return y(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),r=new Uint8Array(2*t.length),n=0,o=t.length;n<o;n++){var a=t.charCodeAt(n);r[2*n]=a>>>8;r[2*n+1]=a%256}return r},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var t=new Array(e.length/2),r=0,n=t.length;r<n;r++)t[r]=256*e[2*r]+e[2*r+1];var o=[];t.forEach(function(e){o.push(y(e))});return i.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(t){if(null==t)return"";if(""==t)return null;t=t.replace(/ /g,"+");return i._decompress(t.length,32,function(e){return a(n,t.charAt(e))})},compress:function(e){return i._compress(e,16,function(e){return y(e)})},_compress:function(e,t,r){if(null==e)return"";for(var n,o,a,i,s={},l={},c="",u=2,p=3,g=2,f=[],d=0,m=0,h=0;h<e.length;h+=1){a=e.charAt(h);if(!Object.prototype.hasOwnProperty.call(s,a)){s[a]=p++;l[a]=!0}i=c+a;if(Object.prototype.hasOwnProperty.call(s,i))c=i;else{if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(n=0;n<g;n++){d<<=1;if(m==t-1){m=0;f.push(r(d));d=0}else m++}o=c.charCodeAt(0);for(n=0;n<8;n++){d=d<<1|1&o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o>>=1}}else{o=1;for(n=0;n<g;n++){d=d<<1|o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o=0}o=c.charCodeAt(0);for(n=0;n<16;n++){d=d<<1|1&o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o>>=1}}if(0==--u){u=Math.pow(2,g);g++}delete l[c]}else{o=s[c];for(n=0;n<g;n++){d=d<<1|1&o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o>>=1}}if(0==--u){u=Math.pow(2,g);g++}s[i]=p++;c=String(a)}}if(""!==c){if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(n=0;n<g;n++){d<<=1;if(m==t-1){m=0;f.push(r(d));d=0}else m++}o=c.charCodeAt(0);for(n=0;n<8;n++){d=d<<1|1&o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o>>=1}}else{o=1;for(n=0;n<g;n++){d=d<<1|o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o=0}o=c.charCodeAt(0);for(n=0;n<16;n++){d=d<<1|1&o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o>>=1}}if(0==--u){u=Math.pow(2,g);g++}delete l[c]}else{o=s[c];for(n=0;n<g;n++){d=d<<1|1&o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o>>=1}}if(0==--u){u=Math.pow(2,g);g++}}o=2;for(n=0;n<g;n++){d=d<<1|1&o;if(m==t-1){m=0;f.push(r(d));d=0}else m++;o>>=1}for(;;){d<<=1;if(m==t-1){f.push(r(d));break}m++}return f.join("")},decompress:function(t){return null==t?"":""==t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,r){for(var n,o,a,i,s,l,c=[],u=4,p=4,g=3,f="",d=[],m={val:r(0),position:t,index:1},h=0;h<3;h+=1)c[h]=h;o=0;i=Math.pow(2,2);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=r(m.index++)}o|=(0<a?1:0)*s;s<<=1}switch(o){case 0:o=0;i=Math.pow(2,8);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=r(m.index++)}o|=(0<a?1:0)*s;s<<=1}l=y(o);break;case 1:o=0;i=Math.pow(2,16);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=r(m.index++)}o|=(0<a?1:0)*s;s<<=1}l=y(o);break;case 2:return""}n=c[3]=l;d.push(l);for(;;){if(e<m.index)return"";o=0;i=Math.pow(2,g);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=r(m.index++)}o|=(0<a?1:0)*s;s<<=1}switch(l=o){case 0:o=0;i=Math.pow(2,8);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=r(m.index++)}o|=(0<a?1:0)*s;s<<=1}c[p++]=y(o);l=p-1;u--;break;case 1:o=0;i=Math.pow(2,16);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=r(m.index++)}o|=(0<a?1:0)*s;s<<=1}c[p++]=y(o);l=p-1;u--;break;case 2:return d.join("")}if(0==u){u=Math.pow(2,g);g++}if(c[l])f=c[l];else{if(l!==p)return null;f=n+n.charAt(0)}d.push(f);c[p++]=n+f.charAt(0);n=f;if(0==--u){u=Math.pow(2,g);g++}}}};return i})();(n=>{var t={ie:0,chrome:1,safari:2,firefox:3,line:4,chromeios:5,oldie:6,blackberry:7,opera:8,android:9,unknown:10},r={SET:"set",GET:"get",MULTIGET:"multiget",REMOVE:"remove",TOUCH:"touch",SELECT_STORAGE:"selectStorage"},o=lpTag.lzString;function a(e){return"string"==typeof e&&0===e.replace(/\s/gi,"").length}function i(e,t,r){if(n.lpTag&&lpTag.log&&e){r=r||"SecureStorageFrame";lpTag.log(e,t,r)}}function s(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}function e(){var e=t.unknown;n.addEventListener?l(/MSIE|Trident|IEMobile/)?e=t.ie:l(/Line/)?e=t.line:l(/CriOS/)?e=t.chromeios:l(/Opera|OPR/)?e=t.opera:l(/Chrome/)?e=t.chrome:l(/ BlackBerry /)?e=t.blackberry:l(/Firefox/)?e=t.firefox:l(/Safari/)&&((()=>{var e=!0;return lpTag&&lpTag.device?lpTag.device.os()===lpTag.device.osEnum.windows:e=!(l(/(Mac OS)/g)&&!l(/(Windows Phone|iPhone|iPod|mobile|Mobile|IEMobile)/g)||l(/(android|Android)/g)||l(/(iPhone|iPod|iPad)/g)||l(/(Linux)/g))&&e})()||l(/(Mac OS)/g)||l(/(iPhone|iPod|iPad)/g))?e=t.safari:l(/(android|Android)/g)&&(e=t.android):e=t.oldie;return e}function l(e){return!!navigator.userAgent.match(e)}n.lpTag=n.lpTag||{};n.lpTag.secureStorageUtils={log:{error:function(e,t){i(e,"error",t)},log:function(e,t){i(e,"log",t)}},getUrlParameters:function(e){for(var t,r=(e=e||location.search).substr(1).split("&"),n={},o=0;o<r.length;++o)(t=r[o].split("=")).length<2||(n[decodeURIComponent(t[0])]=decodeURIComponent(t[1].replace(/\+/g," ")));return n},JSONParse:s,runCallback:function(e,t,r){if("function"==typeof e)try{return e.call(r||null,t)}catch(e){}},bindEvent:function(e,t,r){n.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},unBindEvent:function(e,t,r){n.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)},hasProperties:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){r=!0;break}return r},decodeItem:function(e){var t;if(void 0!==e)try{t=(e=decodeURIComponent(e))&&!a(e)?s(e):e}catch(e){}return t},encodeItem:function(e){var t;try{t=JSON.stringify(e);t=encodeURIComponent(t)}catch(e){}return t},isEmptyString:a,isSameValue:function(e,t){return"object"==typeof e&&"object"==typeof t?JSON.stringify(e)===JSON.stringify(t):e===t},parseInteger:function(e){e+="";return""+(e=parseInt(e,10))!="NaN"?e:null},getUID:function(){var e,t="";if(crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();if(crypto&&"function"==typeof crypto.getRandomValues){e=new Uint8Array(32);crypto.getRandomValues(e);for(var r=0;r<e.length;r++)t+=e[r].toString(16);return t.substring(0,8)+"-"+t.substring(8,12)+"-"+t.substring(12,16)+"-"+t.substring(16,20)+"-"+t.substring(20,32)}return"tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(e){var t=16*Math.random()|0;return("t"==e?t:3&t|8).toString(16)})+"-"+Math.floor(1e5*Math.random())},removeKeyFromObj:function(e,t){if(e&&void 0!==e[t]){e[t]=null;delete e[t]}return e},cloneObj:function(e){return e&&"object"==typeof e&&JSON.parse(JSON.stringify(e))},isIE:function(){return lpTag&&lpTag.device?lpTag.device.browser()===lpTag.device.browserEnum.ie:e()===t.ie},isSafari:function(){return lpTag&&lpTag.device?lpTag.device.browser()===lpTag.device.browserEnum.safari:e()===t.safari},isTouchRequest:function(e){return e&&e.type===r.TOUCH},isSetRequest:function(e){return e&&e.type===r.SET},isSelectStorageRequest:function(e){return e&&e.type===r.SELECT_STORAGE},lzwEncode:function(e){return o.compressToEncodedURIComponent(e)},lzwDecode:function(e){return o.decompressFromEncodedURIComponent(e)},isChrome:function(){return lpTag&&lpTag.device?lpTag.device.browser()===lpTag.device.browserEnum.chrome:e()===t.chrome},requestTypes:r}})(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsonp=lpTag.taglets.jsonp||(c=>{var s,e,u={callback:"cb",encoding:"UTF-8",timeout:1e4,retries:2,metricsCount:100,metricsTimeout:6e4},p={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},o=!0,a=2083,r="lpCb",g={},l=0,f=0,d=0,t=0,n=0,m=[],h={},i=S(!0).length,y="jsonp";function v(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(y,x)}catch(e){}D()}function b(e){var t=!1;if(o&&e&&e.url){var r,n=!1;e.callbackName&&"string"==typeof e.callbackName&&(h[e.callbackName]||c[e.callbackName])&&(n=!0);try{r=(e=>{var t=i;e.callbackName&&"string"==typeof e.callbackName&&(t=e.callbackName.length);return 4+(e.callback||u.callback).length+e.url.length+t+C(e.data).length+C(e.query).length})(e)}catch(e){j("Could not evaluate the length  of the request, e="+e,p.ERROR,"isValidRequest");t=!1}void 0!==r&&r<a&&!n&&(t=!0)}return t}function w(e){var t;if(!b(e)){j("URL request was too long or static callback name already exists, url: "+t,p.ERROR,"issueCall");R();e&&e.error&&U(p.ERROR,e.error,k(600,"Transport - JSONP - unable to run request: "+e.url),e.context);return!1}(e=(e=>{if(!(e="string"==typeof e?{url:e}:e).url)return!1;e.encoding=e.encoding||u.encoding;e.callback=e.callback||u.callback;e.retries=("number"==typeof e.retries?e:u).retries;e.timeout=e.timeout||u.timeout;return e})(e)).callbackName&&"string"==typeof e.callbackName?e.retries=0:e.callbackName=r+S();t=e.url+(-1<e.url.indexOf("?")?"&":"?")+e.callback+"="+e.callbackName;e.data&&(t+="&"+C(e.data));e.query&&(t+="&"+C(e.query));e.callUrl=t;if((e=>{var t=!1,r=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi);if((r=0===e.callUrl.indexOf("http")?r.exec(e.callUrl):r.exec(c.location.href))&&3<=r.length&&""!==r[2]){r=r[2].toLowerCase();e.domainMatch=r;g[r]=g[r]||[];g[r].inFlight=g[r].inFlight||0;g[r].push(e);t=!0;f+=1;j("buffered URL: "+e.callUrl,p.DEBUG,"lpTag.taglets.jsonp.bufferRequest")}else j("NO MATCH for URL: "+e.callUrl,p.ERROR,"lpTag.taglets.jsonp.bufferRequest");return t})(e)){var l=e;if(h[l.callbackName]){R();P(k(409,{message:"This callbackName is already in a pending request and can't be serviced",id:409,name:"CONFLICT"}),l)}else c[l.callbackName]=function(e,t){var r=l,n=r.startTime,o=r.url,a=t;if(n){i=(new Date).getTime();i=i-n;m.push({rd:i,ts:n,url:o,method:"GET",statusCode:a?400:200});m.length>=u.metricsCount&&A()}var i=r.scriptId;if(i=document.getElementById(i))try{i.parentNode.removeChild(i)}catch(e){j("error when removing script",p.ERROR,"removeScript")}n=r.domainMatch;g[n].inFlight=g[n].inFlight-1;d-=1;var s=r.callbackName,o=t;h[s]=null;delete h[s];if(!0===o)c[s]=function(){c[s]=null;try{delete c[s]}catch(e){}};else{c[s]=null;try{delete c[s]}catch(e){}}if(t){if(r.callbackName){r.callbackName=null;delete r.callbackName}P(e,r)}else{N(r);U("callback",r.success,e,r.context);r=null;E()}};E()}else j("URL request was too long and was not sent, url: "+t,p.ERROR,"issueCall");return!0}function T(){var e,t={};for(e in u)u.hasOwnProperty(e)&&(t[e]=u[e]);return t}function S(e){var t=99999,e=e?t+"x"+t:Math.round(Math.random()*t)+"x"+Math.round(Math.random()*t);return e}function k(e,t){return{statusCode:e,responseCode:e,error:t,body:"ERROR"}}function C(e){var t="";if("string"==typeof e)t+=e;else{var r,n,o=!0;for(r in e){"object"==typeof e[r]?n=(e=>{var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(e){Array.prototype.toJSON=r;throw e}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t})(e[r]):"function"!=typeof e[r]&&(n=e[r]);if(void 0!==n){o||(t+="&");t+=encodeURIComponent(r)+"="+encodeURIComponent(n);o=!1}}}return t}function E(){for(var e in g)if(g.hasOwnProperty(e))for(var t=g[e],r=!1;!r&&t.inFlight<6&&0<t.length;){var n=t.shift();if(n){j("Sent URL: "+n.callUrl,p.DEBUG,"lpTag.taglets.jsonp.sendRequests");n.scriptId=((e,t,r)=>{var n="scr"+Math.round(999999999*Math.random())+"_"+Math.round(999999999*Math.random()),o=document.createElement("script");o.setAttribute("type","text/javascript");o.setAttribute("charset",t);o.onload=function(){h[r]&&(h[r].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null};c.addEventListener?o.onerror=function(){h[r]&&(h[r].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}:o.onreadystatechange=function(){if(this.readyState&&("loaded"===this.readyState||"complete"===this.readyState)){h[r]&&(h[r].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}};o.setAttribute("src",e);o.setAttribute("id",n);document.getElementsByTagName("head")[0].appendChild(o);s=s||setTimeout(O,1e3);o=null;return n})(n.callUrl,n.encoding,n.callbackName);n.startTime=(new Date).getTime();i=a=o=void 0;var o=e,a=n.callbackName,i=n.timeout;g[o].inFlight=g[o].inFlight+1;h[a]={launchTime:new Date,timeout:i};d+=1;l+=1;f-=1}else r=!0}}function O(){clearTimeout(s);s=null;var e,t=new Date;for(e in h)if(h.hasOwnProperty(e)&&h[e].launchTime){var r=t-h[e].launchTime;(h[e].loadTime||r>h[e].timeout)&&c[e].apply(null,[k(408,{message:"Request timed out",name:"timeout"}),!0])}0<d&&(s=setTimeout(O,1e3))}function R(){t+=1}function A(){if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics&&0<m.length){lpTag.taglets.lpAjax.publishMetrics({tags:[{transport:y}],metrics:m});m.length=0}D()}function D(){e&&clearTimeout(e);e=setTimeout(A,u.metricsTimeout)}function P(e,t){n+=1;if(0<t.retries){t.retries=t.retries-1;w(t)}else{N(t);U(p.ERROR,t.error,e||k(408,{id:408,name:"TIMEOUT",message:"Request has timed out on all retries"}),t.context);t=null;E()}}function N(e){for(var t=["callUrl","retries","id","requestTimeout","type","encoding","launchTime","callbackName","domainMatch","startTime"],r=0;r<t.length;r++)if(e.hasOwnProperty(t[r])){e[t[r]]=null;delete e[t[r]]}}function U(t,e,r,n){if("function"==typeof e)try{e.call(n||null,r);e=null}catch(e){j("Exception in execution of callback, type :"+t+" e=["+e.message+"]",p.ERROR,"runCallback")}else j("No callback, of type :"+t,p.INFO,"runCallback")}function j(e,t,r){if(c.lpTag&&lpTag.log){"string"==typeof e&&r&&(e=r+": "+e);lpTag.log(e,t,y)}}var x={init:v,configure:function(e){if(e)for(var t in e)u.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(u[t]=e[t]);v()},issueCall:w,isValidRequest:b,getVersion:function(){return"1.1.7"},getName:function(){return y},getDefaults:T,inspect:function(){return{name:y,version:"1.1.7",callsMade:l,errorsFound:n,pending:d,buffered:f,refused:t,defaults:T()}}};v();return x})(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.fetch=lpTag.taglets.fetch||(i=>{var e,t,s={GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE"},l={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},r={encoding:"UTF-8",method:s.GET,asynch:!0,timeout:3e4,mimeType:"application/json",acceptHeader:"*/*",XMLHTTPOverride:!0,retries:2,metricsCount:100,metricsTimeout:6e4,credentials:"include",accessHeader:"Authorization"},n="fetch",o=w(document.location.href),a="X-HTTP-Method-Override",c={responseCode:600,HTTPStatus:"unable to service request",body:{error:"Transport - "+n+" - unable to run request"},headers:""},u=2083,p=0,g=0,f=[],d=[],m=[],h=!0,y=lpTag.taglets;function v(){if(y.lpAjax&&y.lpAjax.addTransport){t=y.lpAjax;try{t.addTransport(n,P)}catch(e){}}D()}function b(e){e=(e=(e=>{(e=o!==w(e.url)?(e=>{e.headers||(e.headers={});e.headers["Access-Control-Request-Method"]=e.method;e.headers["Access-Control-Request-Headers"]=e.headers["Access-Control-Request-Headers"]||r.accessHeader;e.headers.Origin=e.headers.Origin||o;return e})(e):e).method=e.method||r.method;e.credentials=e.credentials||r.credentials;e.encoding=e.encoding||r.encoding;e.mimeType=e.mimeType||r.mimeType;e.retries=(isNaN(e.retries)?r:e).retries;e.timeout=(isNaN(e.timeout)?r:e).timeout;e.XMLHTTPOverride=("boolean"==typeof e.XMLHTTPOverride?e:r).XMLHTTPOverride;e.asynch=("boolean"==typeof e.asynch?e:r).asynch;if((e.method.toLowerCase()===s.PUT.toLocaleLowerCase()||e.method.toLowerCase()===s.DELETE.toLocaleLowerCase())&&e.XMLHTTPOverride){e.headers[a]=e.method;e.method=s.POST}return e})(e))&&e.url&&"string"==typeof e.url&&e.url.length<=u;return h&&e}function w(e){var t=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi),r=null,e=0===e.indexOf("http")?t.exec(e):t.exec(i.location.href);return r=e&&3<=e.length&&""!==e[2]?e[1].toLowerCase()+e[2].toLowerCase():r}function T(r){var n,e;try{a=new AbortController}catch(e){a=null;O("Old browser - AbortController is not available: "+e,l.ERROR)}a&&(o=a.signal);if(r.query){r.url=k(r.url,r.query);r.query=null}if(r.method===s.GET&&r.data){r.url=k(r.url,r.data);r.data=null}else void 0!==r.data&&(r.body="object"==typeof(t=r.data)?C(t):"string"==typeof t?t:"");if(r.timeout&&a&&o){r.signal=o;r.abortController=a;n=(e=r,setTimeout(function(){e.controller.abort()},e.timeout))}var t=r,o=t.url.indexOf("__d=");-1<o&&(t.url=t.url.substr(0,o-1));if(!t.cache&&(t.method.toLowerCase()!==s.GET.toLowerCase()||t.url.length<=u-10)){t.url+=0<t.url.indexOf("?")?"&__d=":"?__d=";t.url+=Math.floor(1e5*Math.random())}var a=r;a.launchTime=new Date;d.push(a);p+=1;fetch(r.url,r).then(function(e){n&&clearTimeout(n);if(e.ok)return S(e,r);O("Unable to fetch due to a backend error. Status "+e.status,l.ERROR);R(r);if(!(0<r.retries))return S(e,r);--r.retries;T(r)}).catch(function(e){var t=lpTag&&lpTag.taglets&&lpTag.taglets.lpFrontendMetrics;O("Unable to fetch due to a network/csp error: "+(e=e||{}),l.ERROR);n&&clearTimeout(n);R(r);t&&"function"==typeof t.sendLog&&t.sendLog("ERROR","Fetch blocked by CSP or Network",{requestUrl:r.url,pageUrl:i.location.href});e.cspOrNetworkError=!0;return r.error(e)})}function S(e,t){var r=e;return e.json().then(function(e){e={body:e,responseCode:r.status,headers:r.headers,HTTPStatus:r.statusText};R(t);return 400<=r.status?(O("Response error: ",l.ERROR),t.error(e)):(O("Response Success: ",l.INFO),t.success(e))}).catch(function(e){O("Unable to parse response: "+e,l.ERROR);e={body:{},responseCode:r.status,headers:r.headers,HTTPStatus:r.statusText};R(t);return 400<=r.status?(O("Response error: ",l.ERROR),t.error(e)):(O("Response Success: ",l.INFO),t.success(e))})}function k(e,t){t=(e=>{var t,r="";if("string"==typeof e)r+=e;else{var n,o=!0;for(n in e)if(e.hasOwnProperty(n)){"object"==typeof e[n]?t=C(e[n]):"function"!=typeof e[n]&&(t=e[n]);if(void 0!==t){o||(r+="&");r+=encodeURIComponent(n)+"="+encodeURIComponent(t);o=!1}}}return r})(t);return e=t?e+(e.indexOf("?")<0?"?":"&")+t:e}function C(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(e){Array.prototype.toJSON=r;throw e}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function E(){for(;d.length<6&&0<f.length;)T(f.shift())}function O(e,t){i.lpTag&&lpTag.log&&lpTag.log(e,t,n)}function R(e){for(var t=0;t<d.length;t++)if(d[t]===e){d.splice(t,1);0<f.length&&E();break}}function A(){if(y&&y.lpAjax&&y.lpAjax.publishMetrics&&0<m.length){(t=y.lpAjax).publishMetrics({tags:[{transport:n}],metrics:m});m.length=0}D()}function D(){e&&clearTimeout(e);e=setTimeout(A,r.metricsTimeout)}var P={init:v,name:n,v:"1.0.2",configure:function(e){if(e&&e.defaults)for(var t in e.defaults)e.defaults.hasOwnProperty(t)&&r.hasOwnProperty(t)&&(r[t]=e.defaults[t]);v();h=!0},issueCall:function(e){if(b(e)){var t=e;f.push(t);E()}else{var t=e.error,r=c,e=e.context;if(t&&"function"==typeof t)try{t.call(e,r)}catch(e){O(e.message,"error")}}},isValidRequest:b,inspect:function(){return{name:n,version:"1.0.2",callsMade:p,errorsFound:g,pending:d.length,defaults:JSON.parse(C(r))}}};v();return P})(window);window.lpTag=window.lpTag||{};lpTag.cookieMethods=lpTag.cookieMethods||(()=>{var n=!1,o=!1,a=!0,e={value:"testValue",sameSite:(e="https:"===location.protocol)?"none":null,secure:e,partitioned:e},t="lpTestCookie"+(new Date).getTime();l({name:t,value:e.value,sameSite:e.sameSite,secure:e.secure,partitioned:e.partitioned});n=e.value===r(t);s(t,null,null,e.secure,e.sameSite,e.partitioned);if(!n&&navigator.userAgent.match(/Chrome/)){l({name:t="lpTestCookie"+(new Date).getTime(),value:e.value,sameSite:e.sameSite,secure:e.secure,partitioned:e.partitioned});o=e.value===r(t);s(t,null,null,e.secure,e.sameSite,e.partitioned)}a=!1;function r(e){var t,r="";if(a||n||o){if("string"!=typeof e)return"";e=encodeURIComponent(e);try{t="; "+document.cookie}catch(e){}r=1==(t=t.split("; "+e+"=")).length?"":decodeURIComponent(t[1].split(";")[0])}return r}function i(e,t,r,n,o,a,i,s){return l("object"==typeof e?e:{name:e,value:t,seconds:r,path:n,domain:o,secure:a,sameSite:i,partitioned:s})}function l(e){var t,r=!1;if(a||n||o&&e.secure&&"none"===e.sameSite){if("string"!=typeof e.name||""===e.name)return!1;null==e.value&&(e.seconds=-1);if("number"==typeof e.seconds){t=(new Date).getTime();t=new Date(t+1e3*e.seconds)}e.value=e.value?encodeURIComponent(e.value):"";try{document.cookie=[encodeURIComponent(e.name),"=",e.value,t?"; expires="+t.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":"",e.sameSite?"; samesite="+e.sameSite:"",e.partitioned?"; partitioned":""].join("");r=!0}catch(e){}}return r}function s(e,t,r,n,o,a){return l({name:e,path:t,domain:r,secure:n,sameSite:o,partitioned:a})}return{clearCookie:s,writeSessionCookie:i,writePersistentCookie:function(e,t,r){r="number"==typeof r?r:2592e3;"object"==typeof e&&(e.seconds=r);return i(e,t,r)},readCookie:r,isCookieEnabled:function(){return n},isChromeThirdPartyEnabled:function(){return o}}})();window.lpTag=window.lpTag||{};lpTag.storageMethods=lpTag.storageMethods||(()=>{var r=!1,n=!1,t=null,o=null;function e(){return r}function a(){return n}function i(e){if(r)return c().getItem(e)||""}function s(e){if(n)return u().getItem(e)||""}function l(){try{r=p(c());n=p(u())}catch(e){}}function c(){return t||sessionStorage}function u(){return o||localStorage}function p(e){var t=!1,r="lpTestCase";try{if("undefined"!=typeof Storage){e.setItem(r,"abc");t="abc"===e.getItem(r);e.removeItem(r)}}catch(e){}return t}l();return{isStorageEnabled:function(){return r&&n},isSessionStorageEnabled:e,isLocalStorageEnabled:a,setSessionData:function(e,t){if(r)return c().setItem(e,t),!0},getSessionData:i,removeSessionData:function(e){return!(!r||!i(e)||(c().removeItem(e),0))},setPersistentData:function(e,t){if(n)return u().setItem(e,t),!0},getPersistentData:s,removePersistentData:function(e){return!(!n||!s(e)||(u().removeItem(e),0))},configure:function(e){if(e&&e.storageAccessHandle){t=e.storageAccessHandle.sessionStorage;o=e.storageAccessHandle.localStorage;n=r=!1;l()}}}})();window.lpTag=window.lpTag||{};lpTag.domainUtil=lpTag.domainUtil||(()=>{var l={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info",int:"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm",do:"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im",in:"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"},sldRestricted:{au:"au",bn:"bn",br:"br",bt:"bt",cy:"cy",et:"et",fk:"fk",gh:"gh",gn:"gn",jm:"jm",ke:"ke",kh:"kh",kp:"kp",kw:"kw",lb:"lb",lr:"lr",ls:"ls",mm:"mm",mq:"mq",mt:"mt",mz:"mz",ni:"ni",np:"np",om:"om",pa:"pa",pg:"pg",py:"py",qa:"qa",sb:"sb",sv:"sv",sx:"sx",sz:"sz",th:"th",tz:"tz",va:"va",ve:"ve",ye:"ye",zw:"zw"}};function c(e,t){var e=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?/:]+)(\/?)/gi).exec(e),r=null;if(e&&3<=e.length&&""!==e[2]){r=e[2].toLowerCase();t&&(r=e[1]+r)}return r}return{v:"1.1",name:"domainUtil",getParentDomain:function(e){var t,r=null,n={top:null,country:null};if((t=(e=c(e=""+e)).split(".")).length<3)return e;for(var o=t.length-1;-1<o;o--){s=i=a=void 0;var a=t[o],i=n,s=o;a=""+a;null===i.top&&(l.topLevelDomain[a]||l.customTopLevelDomain[a])?i.top=s:null===i.country&&l.countryTopLevelDomain[a]&&(i.country=s);if(null!==n.country&&null!==n.top)break}return null===n.top&&null===n.country?e:((null===(r=n.top)||null!==n.country&&n.country<r&&r-1===n.country&&t[n.country]!==l.sldRestricted[t[n.country]])&&(r=n.country),t.slice(0<r?r-1:r).join("."))},getDomain:c,isValidDomain:function(e){e=c(e);return new RegExp(/^[a-z]{1}[a-z+|\d+|_+|\-|.]+[a-z]{1}$/gi).test(e)}}})();window.lpTag=window.lpTag||{};window.lpTag.SessionCookieWrapper=window.lpTag.SessionCookieWrapper||function(n){var o=lpTag.cookieMethods,a=lpTag.secureStorageUtils,e=o.isCookieEnabled()||!lpTag.firstParty&&a.isChrome()&&o.isChromeThirdPartyEnabled(),i=/[\-\.\+\*]/g,s="\\$&",l="https:"===location.protocol,c=!lpTag.firstParty&&a.isChrome()?"none":"";return{set:function(e,t,r){o.writeSessionCookie(e+"_lzw2".replace(i,s),a.lzwEncode(t),null,"/",null,l,c,!!n);a.runCallback(r,e||null)},get:function(e,t){var r=null;if("string"==typeof e){r=o.readCookie(e+"_lzw2".replace(i,s));r=a.lzwDecode(r)}a.runCallback(t,r||null)},remove:function(e,t){o.clearCookie(e+"_lzw2".replace(i,s),"/",null,l,c,!!n);a.runCallback(t,null)},isActive:function(){return e},name:"secureSessionCookie"}};window.lpTag=window.lpTag||{};window.lpTag.IndexDBWrapper=window.lpTag.IndexDBWrapper||function(t,e,r){var n,o,i,a=e||"LPSecureStorage",s="lpSS",l=1,c="tk"+(new Date).getTime(),u="1",p=10,g=80,f=1.1,d=15,m=0,h={READWRITE:"readwrite",READONLY:"readonly",VERSIONCHANGE:"versionchange"},y={ADD:"add",PUT:"put",GET:"get",DELETE:"delete"},v=r&&r.indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,b=lpTag.secureStorageUtils;v?w():t(null);function w(){var t;try{if(null===(t=v.open(a,l)))return O(!1),void 0}catch(e){O(!1);return}t.onupgradeneeded=function(e){!(i=e&&e.target&&e.target.result)||i.objectStoreNames.contains(s)||i.createObjectStore(s)};t.onsuccess=function(e){i=e.target.result;t.onerror=function(){};clearTimeout(o);setTimeout(C,p)};t.onerror=function(e){i=null;O(!1)};o=setTimeout(function(){O(!1);g*=f},g)}function T(e,t){E(y.GET,e,null,t)}function S(e,t){E(y.DELETE,e,null,t)}function k(){return!!i}function C(){try{E(y.ADD,c,u,function(e){if(e&&e.error)O(!1);else{O(!0);S(c)}})}catch(e){O(!1)}}function E(e,t,r,n){if(i){var o,a=e===y.GET?h.READONLY:h.READWRITE;(o=null!==r?i.transaction(s,a).objectStore(s)[e](""+r,t):i.transaction(s,a).objectStore(s)[e](t)).onsuccess=function(e){e=e&&e.target&&e.target.result;void 0===e&&(e=null);"function"==typeof n&&n(e);o=null};o.onerror=function(e){"function"==typeof n&&n({error:e.target.result||"Error making IDB request for "+t});o=null}}else"function"==typeof n&&n({error:"IndexedDB not active"})}function O(e){if(e)b.runCallback(t,n);else if(d<=m)b.runCallback(t,null);else{m++;w()}}n={set:function(r,n,o){T(r,function(e){var t=y.ADD;E(t=null!=e?y.PUT:t,r,n,o)})},get:T,remove:S,isActive:k,isUnpartitioned:function(){return!!(r&&r.indexedDB&&i)},name:"indexedDB"}};window.lpTag=window.lpTag||{};window.lpTag.DomStorageWrapper=window.lpTag.DomStorageWrapper||function(e,t){var o=lpTag.storageMethods,a=!0===e||"true"===e||!1,e=e?"sessionStorage":"localStorage",i=lpTag.secureStorageUtils;function s(){return a?o.isSessionStorageEnabled():o.isLocalStorageEnabled()}t&&o.configure&&o.configure({storageAccessHandle:t});return{get:function(e,t){var r={error:"Unable to perform getItem on "+e};s()&&(r=a?o.getSessionData(e):o.getPersistentData(e));i.runCallback(t,r||null)},set:function(e,t,r){var n={error:"Unable to perform setItem on "+e};s()&&(n=a?o.setSessionData(e,t):o.setPersistentData(e,t));i.runCallback(r,n||null)},remove:function(e,t){var r={error:"Unable to perform removeItem on "+e};s()&&(r=a?o.removeSessionData(e):o.removePersistentData(e));i.runCallback(t,r||null)},isActive:s,isUnpartitioned:function(){return!!(t&&(a?t.sessionStorage:t.localStorage)&&s())},name:e}};window.lpTag=window.lpTag||{};window.lpTag.DataAnalyzer=window.lpTag.DataAnalyzer||function(e,t,r,n,o,a,i,s){var l=864e5,c="1.0",u="meta",p=lpTag.secureStorageUtils,g=new lpTag.DomainResolver(e,t,r,n,o,a,i,s);function f(e){return!e||"string"!=typeof e&&"number"!=typeof e?l:+e}function d(e){var t=null,r=(new Date).getTime();if(e)for(var n in e)if(e.hasOwnProperty(n)&&!m(e[n],r)&&g.isValidByLocations(e[n])){t=e[n].value;break}return t}function m(e,t){var r="string"==typeof e.ts?parseInt(e.ts,10):e.ts,e=f(e.ttl);t=t||(new Date).getTime();return r&&r+e<t}function h(e){e[u]={v:c}}return{getItems:function(e,t){var r,n;if(e)if("*"!==t)n=d(e[t]);else{n={};for(var o in e)e.hasOwnProperty(o)&&o!==u&&(r=d(e[o]))&&(n[o]=r);n=p.hasProperties(n)?n:null}return n},getItemId:function(e){var t,r,n;for(n in e)e.hasOwnProperty(n)&&g.isValidByLocations(e[n])&&(!r||e[n].ts>r)&&(r=e[t=n].ts);return t},cleanupObject:function(e){var t,r=(new Date).getTime(),n={};if(e&&"object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&o!==u&&(t=((e,t)=>{var r,n={};if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)&&!m(e[o],t)){e[o].locations=g.cleanLocations(e[o].locations);if(e[o].locations)if(g.isValidByLocations(e[o])){if(!r||e[o].ts>e[r].ts){r&&n[r]&&p.removeKeyFromObj(n,r);n[r=o]=e[o]}}else n[o]=e[o]}return p.hasProperties(n)?n:null})(e[o],r))&&(n[o]=t);return p.hasProperties(n)?(h(n),n):null},enhanceObject:function(e,t,r){var n,o,a=f(r.ttl),i=(new Date).getTime();e&&"object"==typeof e||h(e={});e[r.appName]||(e[r.appName]={});t=t||p.getUID();n=e[r.appName][t]&&e[r.appName][t].locations||{};n=g.updateLocations(n,r.origin,i);!(o=r.value)&&p.isTouchRequest(r)&&(o=e[r.appName][t]&&e[r.appName][t].value);e[r.appName][t]={value:o,locations:n,ttl:a,ts:i};return e}}};window.lpTag=window.lpTag||{};window.lpTag.StorageSelector=window.lpTag.StorageSelector||function(e){var l,t=e.site,o=lpTag.secureStorageUtils,c=o.log.log,n={},u="storage_expiration-"+t,p=0,t=e.isCrossDomain&&e.isCrossDomainCookiePrioritized&&o.isChrome()?{secureSessionCookie:3,indexedDB:2,localStorage:1,sessionStorage:0}:{indexedDB:3,localStorage:2,secureSessionCookie:1,sessionStorage:0},g={indexedDB:{name:"indexedDB",priority:t.indexedDB,wrapperName:"IndexDBWrapper"},localStorage:{name:"localStorage",priority:t.localStorage,wrapperName:"DomStorageWrapper"},secureSessionCookie:{name:"secureSessionCookie",priority:t.secureSessionCookie,wrapperName:"SessionCookieWrapper"},sessionStorage:{name:"sessionStorage",priority:t.sessionStorage,wrapperName:"DomStorageWrapper"}},f={name:"NONE",isActive:function(){return!1}},a=864e5,d="priority",i="timestamp";function m(e,t,r,n){if(!n&&r)t.get(u,m.bind(this,e,t,!1));else{p--;g[t.name][i]=(e=>"number"==typeof(e=o.parseInteger(e))&&e>(new Date).getTime()?e:-1)(n);0===p&&y(e,h(i)||h(d))}}function h(e){var t,r;for(r in g)g.hasOwnProperty(r)&&g[r].storage&&"number"==typeof g[r][e]&&0<=g[r][e]&&(!t||g[r][e]>t[e])&&(t=g[r]);return t&&t.storage||null}function y(e,t){var r=e?e+"-":"";if(t&&"function"==typeof t.isActive&&t.isActive()){n[e]=t;c("Chosen storage: "+n[e].name+", app: "+e);o.runCallback(l,{app:e,storage:n[e]});n[e].set(r+u,(new Date).getTime()+a+"")}else{n[e]=f;c("Storage selection error, chosen storage: "+n[e].name+", app: "+e);o.runCallback(l,{app:e,storage:n[e]})}}return{createWrappers:function(t){(o.isIE()||o.isSafari())&&!lpTag.firstParty||!0!==e.localStorageEnabled||(g.localStorage.storage=new lpTag[g.localStorage.wrapperName](!1,e.storageAccessHandle));!0===e.cookiesEnabled&&(g.secureSessionCookie.storage=new lpTag[g.secureSessionCookie.wrapperName](e.isPartitionCookieEnabled));!0===e.sessionStorageEnabled&&(g.sessionStorage.storage=new lpTag[g.sessionStorage.wrapperName](!0,e.storageAccessHandle));if(o.isSafari()&&!lpTag.firstParty)o.runCallback(t);else try{new lpTag[g.indexedDB.wrapperName](function(e){e&&e.isActive()&&(g.indexedDB.storage=e);o.runCallback(t)},null,e.storageAccessHandle)}catch(e){o.runCallback(t)}},selectStorage:function(e,t,r,n){l=n;if(g[e]){n=r;c("_selectInitialStorage");y(n,t?g[e].storage:g[e].storage||h(d))}else{var o=r,a=(c("_selectStorageByTimestampOrPriority"),!1),n=(()=>{var e,t=[];for(e in g)g.hasOwnProperty(e)&&g[e].storage&&t.push(g[e].storage);return t})(),i=o?o+"-":"",s=!!o;p=n.length;n.forEach(function(e){a=!0;e.get(i+u,m.bind(this,o,e,s))});a||y(o,f)}},getStorage:function(e){return(e=e||Object.keys(n)[0])&&n[e]},hasValidStorageSelected:function(e){return(e=e||Object.keys(n)[0])&&n[e]&&o.runCallback(n[e].isActive)},noStorageType:f}};window.lpTag=window.lpTag||{};window.lpTag.StorageAccessor=window.lpTag.StorageAccessor||function(){var n="StorageAccessor",o=lpTag.secureStorageUtils,a=o.log,e=!!(document&&document.hasStorageAccess&&document.requestStorageAccess);return{requestStorageAccess:function(r){if(e)t=function(e){if(e){a.log(n+"::requestStorageAccess: user has 3rd-party cookies enabled, now requesting 3rd-party storage access..");t=function(e){o.runCallback(r,e)},document.requestStorageAccess({all:!0}).then(function(e){t(e)}).catch(function(e){a.error(n+"::_request3rdPartyStorageAccess: request for 3rd-party storage access failed with error: "+(e&&e.message));t()})}else{a.log(n+"::requestStorageAccess: user does not have 3rd-party cookies enabled; skipping request for 3rd-party storage access..");o.runCallback(r)}var t},document.hasStorageAccess().then(function(e){t(e)}).catch(function(e){a.error(n+"::_check3rdPartyCookieAccess: checking 3rd-party cookie access failed with error: "+(e&&e.message));t(!1)});else{a.log(n+"::requestStorageAccess: Storage Access API is not supported, skipping request for 3rd-party storage access..");o.runCallback(r)}var t}}};window.lpTag=window.lpTag||{};window.lpTag.DomainResolver=window.lpTag.DomainResolver||function(t,s,e,a,r,n,i,l){var c,u,p=lpTag.secureStorageUtils,g=p.log.log,f=/^\*\.([^\.]+\.)*([^\.\s])+$/gi,o=["liveperson.net","liveperson.com","lprnd.net","lpsnmedia.net","lpcloud.io"],d="boolean"==typeof e?e:"true"===e,m={DEV:"DEV",QA:"QA",ALPHA:"ALPHA",GA:"GA"},h={},y=null;h[m.DEV]="qtvr-wap06.dev.lprnd.net";h[m.QA]="lp-accdn-app.qa.int.gw.lpcloud.io";h[m.ALPHA]="accdn-a.lpsnmedia.net";h[m.GA]="accdn.lpsnmedia.net";u=i?lpTag.taglets.fetch:lpTag.taglets.jsonp;if(d)if(n&&((t,e)=>{try{if(!t||0===t.length)return;0!==t.indexOf("https://")&&(t="https://"+t);var r=new URL(t).hostname.split(".").slice(-2).join(".");if((e||[]).indexOf(r)<0)return g("SS iFrame: Domain '"+t+"' is not in whitelist.","INFO"),void 0}catch(e){g("SS iFrame: Error checking if domain '"+t+"' is in whitelist. Error message: "+e,"ERROR");return}return 1})(n,o)){y=n;S(t,b)}else{e=t;var v=function(e){y=e;S(t,b)};lpTag.taglets.fetch.issueCall({url:"https://api.liveperson.net/api/account/"+e+"/service/acCdnDomain/baseURI.json?version=1.0",timeout:7e3,retries:3,credentials:"omit",cache:l||void 0,success:function(e){e=e&&e.body&&e.body.baseURI||null;v(e)},error:function(e){g("Error parsing baseURI response:"+e,"ERROR");v(null)}})}else b([s]);function b(e){var t=lpTag.domainUtil.getParentDomain(s);(e=c=e,Array.isArray(e)&&1<e.length)&&w(t)||(d=!(c=[t]));g("DomainResolver::setAllowedDomains: isCrossDomain="+d);p.runCallback(r)}function w(e){var t,r,n,o,a=T(s);c=c||[];if(!a)for(var i=0;i<c.length;i++){t=c[i];f.lastIndex=null;if(a=f.test(t)?(r=e,o=void 0,n=(n=t).substring(2),0<=(o=r.lastIndexOf(n))&&r.length===o+n.length):lpTag.domainUtil.getParentDomain(e)===lpTag.domainUtil.getParentDomain(t))break}return a}function T(e){for(var t=!1,r=0;r<o.length;r++)if(-1<e.indexOf(o[r])){t=!0;break}return t}function S(e,t){u.issueCall({url:"https://"+(y||h[a&&a.toUpperCase()]||h[m.GA])+"/api/account/"+e+"/configuration/domainprotection/refererrestrictions",timeout:7e3,retries:3,credentials:i?"omit":void 0,cache:i&&l?l:void 0,success:function(e){e=i?e&&e.body:e,e=Array.isArray(e)&&e.length?e[0]:null,e=(e=e&&Array.isArray(e.whiteList)?e.whiteList:[]).filter(function(e){return"string"==typeof e});g("DataAnalyzer::_onWhiteListReceived whiteList:"+e.join(", "));p.runCallback(o,e)},error:(r=e,n=o=t,function(e){if(e&&e.cspOrNetworkError){u=lpTag.taglets.jsonp;i=!1;S(r,n)}else p.runCallback(n,[])}),context:this});var r,n,o}return{isValidByLocations:function(e){if((e=e&&e.locations&&Object.keys(e.locations))&&Array.isArray(e)&&0<e.length){e=e.filter(w);return!!(Array.isArray(e)&&0<e.length)}return!1},cleanLocations:function(e){var t=e&&Object.keys(e)&&Object.keys(e).length;if(e&&"object"==typeof e&&1<t)for(var r in e)e.hasOwnProperty(r)&&(d?w(r)||p.removeKeyFromObj(e,r):w(r)&&p.removeKeyFromObj(e,r));return p.hasProperties(e)?e:null},updateLocations:function(e,t,r){T(t=lpTag.domainUtil.getParentDomain(t))&&p.hasProperties(e)||(e[t]={ts:r});return e},convertLocations:function(e,t){var r={};if(Array.isArray(e))for(var n=0;n<e.length;n++)r[e[n]]={ts:t};return r}}};window.lpTag=window.lpTag||{};window.lpTag.SecureStorageManager=window.lpTag.SecureStorageManager||function(e){var b,t,r="lpStrMap",w=lpTag.secureStorageUtils,T=w.log.log,c=w.log.error,S=e.dataAnalyzer,o=e.storageSelector;if(this===window)return null;t=e.app,o.hasValidStorageSelected(t)&&window.setTimeout(function(){E(t,function(e,t){b="object"==typeof b?b:{};for(var r in t="object"==typeof t&&t||b){T("Got key in map: "+r);t.hasOwnProperty(r)&&((o,a)=>{u(o,a,function(e){var t=S.cleanupObject(e),r=(T("Got key "+a),o),n=a;if(Object.keys(t).length<2){T("removing item "+n);C(r,n,function(e){if(!e||!e.error){b[n]=null;delete b[n];O(r,b)}})}else if(t&&!w.isSameValue(t,e)){T("Modifying item "+n);k(r,n,t)}})})(e,r)}}.bind(this,t))},200);function k(e,t,r,n){void 0!==r&&""!==r&&null!==r?o.getStorage(e).set(t,w.encodeItem(r),n):o.getStorage(e).remove(t,n)}function u(e,t,r){o.getStorage(e).get(t,function(e){w.runCallback(r,S.cleanupObject(w.decodeItem(e)))})}function C(e,t,r){o.getStorage(e).remove(t,r)}function E(e,t){u(e,r,function(e){"object"==typeof(b=e&&!e.error?e:{})&&null!==b||(b={});w.runCallback(t,e);T("Got map: "+JSON.stringify(b))})}function O(e,t){k(e,r,t,function(e){b=e&&!e.error?t:{};T("Setting map: "+JSON.stringify(t))})}return{setItem:function(m,h,y){var v=h.app;(m=encodeURIComponent(m))?u(v,m,function(e){if(!e&&w.isTouchRequest(h))w.runCallback(y,{error:"No value to touch"});else{u=v,p=m,e=e,g=h,f=y,d=S.getItemId(e&&e[g.appName]),t=w.isTouchRequest(g);if(void 0===p||void 0===g.value&&!t)if(!t&&e&&e[g.appName]){var n=u,o=p,t=d,r=g,a=f,i=e;i=w.removeKeyFromObj(i&&i[r.appName],t);w.hasProperties(i&&i[r.appName])||(i=w.removeKeyFromObj(i,r.appName));w.hasProperties(i)?k(n,o,i,function(e){w.runCallback(a,e&&e.error?e:null)}):C(n,o,function(e){w.runCallback(a,e);e&&e.error||(t=n,r=o,b&&!b.hasOwnProperty(r))||E(t,function(){if(b&&b.hasOwnProperty(r)){b[r]=null;delete b[r];O(t,b)}});var t,r})}else w.runCallback(f,{error:"Object not found."});else{var s=u,l=p,t=d,r=g,c=f,i=e;(i=S.enhanceObject(i,t,r))?k(s,l,i,function(e){w.runCallback(c,e);if(!e||!e.error){var t=s,r=l;if(b){if(!b.hasOwnProperty(r)){b[r]=1;O(t,b);T("Adding key to map: "+r)}}else E(t,function(){if(!b.hasOwnProperty(r)){b[r]=1;O(t,b);T("Got Map, adding key to map: "+r)}})}}):w.runCallback(c,{error:"Unable to set the item."})}}var u,p,g,f,d,t}):w.runCallback(y,{error:"No key specified."})},getItems:function(e,r,n){var o,a,i=r.app,s={},l=!1;if(r.keys&&Array.isArray(e)){a=e.length;l=!0}else{a=1;r.keys=[r.key];e=[e]}e.forEach(function(e,t){e=encodeURIComponent(e);u(i,e,function(e){o=r.keys[t];s[o]=e?S.getItems(e,r.appName):null;if(0===--a)if(w.hasProperties(s))l?w.runCallback(n,s):w.runCallback(n,s[o]);else{w.runCallback(n,null);c("No value")}})})}}};window.lpTag=window.lpTag||{};window.lpTag.SecureStorageClient=window.lpTag.SecureStorageClient||function(e,t){var o,a,i={},r="SecureStorageClient",s=lpTag.secureStorageUtils,l=s.log.log,c={},u=t,p=[],n=!1,g="SecureStorageClient/storageType",f={STORAGE:"storage_error"},d=lpTag.events,m="lpSecureStorage",t=!lpTag.firstParty;i[""+e]=e;t&&s.bindEvent(window,"message",y);d&&d.bind({eventName:"firstPartyMessage",appName:r,func:h});function h(e){e.firstParty=!0;e.origin=location.origin||location.protocol+"//"+location.host;y(e)}function y(e){n?v(e):p.push(e)}function v(e,t){var r,n;if("object"==typeof(r=e&&e.data?b(e.data):r)&&null!==r){r=(e=>{var t;if(e.keys&&Array.isArray(e.keys)){t=e.keys.filter(function(e){return"string"==typeof e&&e!==g});e.keys=0<t.length?t:null}else e.key&&(e.key="string"==typeof e.key&&e.key!==g?e.key:null);return e})(r);n=s.isSelectStorageRequest(r);if(r.key||r.keys||n){r.origin=e.origin;r.source=e.source;r.domain=lpTag.domainUtil.getDomain(e.origin,!1);r.firstParty=e.firstParty;a.hasValidStorageSelected(r.app)?n||(r.site&&(r.value||r.ttl)?function(e){i[""+e.site]=e.site;o&&o.setItem(""+e.site+e.key,e,w.bind(this,e))}:function(e){var t;i[""+e.site]=e.site;if(o){t=(t=>t.key?""+t.site+t.key:t.keys.map(function(e){return""+t.site+e}))(e);o.getItems(t,e,w.bind(this,e))}})(r):n?function(e,t){a.selectStorage(e.initialStorageType,e.force,e.app,function(e,t,r){t&&t(r);((e,t)=>{c[t.app]=t.storage&&t.storage.name;e={key:g,appName:"secureStorage",app:t.app||e.app,id:e.id,url:u,src:null,firstParty:e.firstParty};c[t.app]!==a.noStorageType.name?e.value=c[t.app]:e.error=f.STORAGE;T(e);l("Notify Key: "+g+" Value: "+t.storage.name)})(e,r)}.bind(this,e,t))}(r,t):w(r,{error:"no storage selected for the app "+r.app+", call 'configure' with the same app before"})}}}function b(e){var t;try{t=decodeURIComponent(e);t=JSON.parse(t)}catch(e){}return t}function w(e,t){var r={appName:e.appName,url:e.origin,src:e.source,id:e.id,firstParty:e.firstParty};t&&t.error?r.error=t.error:r.value=s.isSetRequest(e)||s.isTouchRequest(e)?e.value:t;e.key?r.key=e.key:e.keys&&(r.keys=e.keys);T(r)}function T(e){var t=(e=>{var t={appName:e.appName};e.error?t.error=e.error:t.value=e.value;e.key?t.key=e.key:e.keys&&(t.keys=e.keys);e.id&&(t.id=e.id);e.app&&(t.app=e.app);e=JSON.stringify(t);return encodeURIComponent(e)})(e);if(e.firstParty)d.trigger({appName:m,eventName:"firstPartyMessage",data:{data:t}});else{var r=e.url,e=e.src;if(void 0!==t)try{(e||window.parent).postMessage(t,r||lpTag.domainUtil.getDomain(r,!0))}catch(e){}}}return{initSelector:function(e){a=e},initManager:function(e){o=e},sendPendingMessages:function(t,e,r){var n=r?p.filter(function(e){return!(!e||!e.data)&&(e=b(e.data))&&e.type===r}):p;0<n.length?n.forEach(function(e){v(e,t);p.splice(p.indexOf(e),1)}):"function"==typeof e&&e()},setActive:function(){n=!0},reset:function(){p=[]},dispose:function(){s.unBindEvent(window,"message",y);d&&d.unbind({eventName:"firstPartyMessage",appName:r,func:h})}}};window.lpTag=window.lpTag||{};window.lpTag.StorageInitiator=window.lpTag.StorageInitiator||(e=>{var r,n,o,a,t,i=!1,s=1e3,l=[],c=-1<e.location.href.indexOf("storage.html"),u=lpTag.secureStorageUtils;p();function p(e){e&&!isNaN(e)&&(s=e);r=(()=>{var e=u.getUrlParameters(location.search);e.cookiesEnabled=v(e.cookiesEnabled)&&(lpTag.cookieMethods.isCookieEnabled()||!lpTag.firstParty&&u.isChrome()&&lpTag.cookieMethods.isChromeThirdPartyEnabled());e.localStorageEnabled=v(e.localStorageEnabled)&&lpTag.storageMethods.isLocalStorageEnabled();e.sessionStorageEnabled=v(e.sessionStorageEnabled)&&lpTag.storageMethods.isSessionStorageEnabled();e.debug=c;e.isCrossDomain="true"===e.isCrossDomain||!0===e.isCrossDomain;e.loc=e.loc||location.origin;e.site=(e=>"string"==typeof e?e.replace(/[^\w\s]/gi,""):e)(e.site||lpTag.site);e.isFetchEnabled="true"===e.isFetchEnabled||!0===e.isFetchEnabled;e.fetchCacheMode=e.fetchCacheMode;e.isPartitionCookieEnabled="true"===e.isPartitionCookieEnabled||!0===e.isPartitionCookieEnabled;e.isCrossDomainCookiePrioritized="true"===e.isCrossDomainCookiePrioritized||!0===e.isCrossDomainCookiePrioritized;return e})();n=new lpTag.SecureStorageClient(r.site,r.loc);a=new lpTag.DataAnalyzer(r.site,r.loc,r.isCrossDomain,r.env,f,r.accdn,r.isFetchEnabled,r.fetchCacheMode);var t={site:r.site,asyncStorageMaxRetry:r.asmr,cookiesEnabled:r.cookiesEnabled,localStorageEnabled:r.localStorageEnabled,sessionStorageEnabled:r.sessionStorageEnabled,isPartitionCookieEnabled:r.isPartitionCookieEnabled,isCrossDomain:r.isCrossDomain,isCrossDomainCookiePrioritized:r.isCrossDomainCookiePrioritized};if(r.isCrossDomain&&u.isChrome()){u.log.log("Requesting cross domain storage access since isCrossDomain: "+r.isCrossDomain+", and isChrome: "+u.isChrome());(new lpTag.StorageAccessor).requestStorageAccess(function(e){u.log.log("Requested cross domain storage access, resulting in storageAccessHandle of type: "+(e?typeof e:"null or undefined"));t.storageAccessHandle=e;(o=new lpTag.StorageSelector(t)).createWrappers(g)})}else{u.log.log("Not requesting cross domain storage access since isCrossDomain ("+r.isCrossDomain+") and isChrome ("+u.isChrome()+") are not both true");(o=new lpTag.StorageSelector(t)).createWrappers(g)}}function g(){n.initSelector(o);d()}function f(){i=!0;y(t)}function d(){n.sendPendingMessages(m,h,u.requestTypes.SELECT_STORAGE)}function m(e){if(e&&e.storage){t=e.app;l[e.app]=e.storage;y(e.app)}}function h(){setTimeout(function(){d()},s)}function y(e){if((t=e)&&i&&l&&l[t]){var t=l[e];u.log.log("Initiated successfully with "+t.name+", app: "+e+(t.isUnpartitioned?", isUnpartitioned: "+t.isUnpartitioned():""));t=new lpTag.SecureStorageManager({app:e,storageSelector:o,dataAnalyzer:a});n.initManager(t);n.sendPendingMessages();n.setActive()}}function v(e){return void 0===e||!0===e||"true"===e}return{init:p,reset:function(){n.reset();i=!1;l=[]},dispose:function(){n&&n.dispose();n=o=a=null}}})(window);