/*! lp-unified-window 10.43.1 2025-06-05 11:56 */
function createFrameworkGlobals(){window.lpTag=window.lpTag||{},window.liveperson=window.liveperson||{},window.liveperson.uiframework=window.liveperson.uiframework||{},window.liveperson.uiframework.latest=window.liveperson.uiframework.latest||{};var e=window.liveperson.uiframework;if(e["v0.8"]=e["v0.8"]||{},!(e=e["v0.8"]).ViewController)return window.liveperson.uiframework.ViewController={extend:function(e){throw"ui-framework has versions, please use the version folder in the format of 'v0.8' or use 'latest' for the latest version"}},e.ViewController=function(){},e.ViewController.version=.8,(!window.liveperson.uiframework.latest.ViewController||window.liveperson.uiframework.latest.ViewController.version<.8)&&(window.liveperson.uiframework.latest.ViewController=e.ViewController),e}!(function(){window.liveperson=window.liveperson||{},window.liveperson.uiframework=window.liveperson.uiframework||{},window.liveperson.uiframework.latest=window.liveperson.uiframework.latest||{};var r=window.liveperson.uiframework,o=(r["v0.8"]=r["v0.8"]||{},r=r["v0.8"],window.lpTag&&window.lpTag.taglets&&window.lpTag.taglets.lpUtil),h=window.lpTag&&window.lpTag.unifiedWindow&&window.lpTag.unifiedWindow.log;function s(e){return(o&&"function"==typeof o.stringify?o:JSON).stringify(e)}function a(e,t,i){var n,r;if(o&&"function"==typeof o.cloneExtend)return o.cloneExtend(e,t,i);if(!e||"object"!=typeof e)return e;if(!t)return JSON.parse(s(e));for(r in n=t||e.constructor()||{},e)n[r]!==e[r]&&e.hasOwnProperty(r)&&(n[r]=i?a(e[r],void 0,i):e[r]);return n}r.LPModel=r.LPModel||function(e,i){function t(t){return function(e){!0===i&&window.console&&("ERROR"===t&&window.console.error?window.console.error("LPModel#"+t+" : "+e+", "+n()):window.console.log&&window.console.log("---LPModel#"+t+" : "+e+", "+n()))}}function n(){function e(e){return e<10?"0"+e:e}var t=new Date;return e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())+", "+t.toDateString()+", ("+t.getTime()+")"}(h="object"==typeof i?i:h)&&!0!==i||(h={error:t("ERROR"),warn:t("WARN"),info:t("INFO"),debug:t("DEBUG")});var l=!(!e||"boolean"!=typeof e.debugging)&&e.debugging,c=new(function(e){function d(e,t){return!e||e===t}this.attributes=e||{},this.keysMap=[],this.on=function(e,t,i){var n,r=e.indexOf("(");0<=r&&(n=e.substring(r+1,e.length-1),e=e.substring(0,r)),(this.keysMap[e]||(this.keysMap[e]=[])).push({key:e,callback:t,context:i,specificValue:n})},this.off=function(e,t,i){for(var n,r,o,s,a,l=e?e.indexOf("("):-1,c=(0<=l&&(n=e.substring(l+1,e.length-1),e=e.substring(0,l)),e?[e]:(function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i})(this.keysMap)),u=0;u<c.length;u++)if((r=this.keysMap[c[u]])&&0<r.length){for(o=[],s=0;s<r.length;s++)d(e,(a=r[s]).key)&&d(t,a.callback)&&d(i,a.context)||(void 0===a.specificValue||a.specificValue&&a.specificValue===""+n)&&o.push(r[s]);this.keysMap[c[u]]=o}},this.trigger=function(t,e){for(var i=(this.keysMap[t]||(this.keysMap[t]=[])).slice(0),n=0;n<i.length;n++)try{void 0!==i[n].specificValue&&i[n].specificValue!==""+e.newValue||i[n].callback.call(i[n].context||this,a(e,null,!0))}catch(e){h.error("Triggering key["+t+"]","trigger")}},this.toJSON=function(){return s(this.attributes)},this.reset=function(){if(this.keysMap&&this.keysMap.length)for(var e=0;e<this.keysMap.length;e++){var t=this.keysMap[e];t.callback=null,delete t.callback}this.keysMap.length=0,this.attributes={}}})(e);function v(e){e=typeof e;return"number"==e||"boolean"==e||"string"==e||"function"==e}this.setDebugMode=function(e){l=e},this.getModel=function(){return c},this.removeKey=function(e,t){var i,n=e&&e.path||e,r=n.split(".");if(c.attributes[r[0]]){var o=r.length;if(1===o)i=c.attributes[r[0]],l(r[0],c.attributes);else for(var s=c.attributes[r[0]],a=1;a<o;a++)if(a==o-1)i=s[r[a]],l(r[a],s);else{if(!s[r[a]]){h.error("Key doesn't exist, key: "+e,"LPModel.removeKey");break}s=s[r[a]]}void 0===i||void 0!==t&&!t||c.trigger("change:"+n,{key:e,removedValue:i})}else h.error("Root key doesn't exist, key: "+e,"LPModel.removeKey");function l(e,t){t[e]=null,delete t[e]}},this.set=function(e,t){e=e&&e.path||e;this.removeKey(e,void 0===t),this.modify(e,t)},this.modify=function(e,t,i,n){var r,o=[],e=(function(e,t){var i=e.split(".");if(1===i.length)return{key:e,data:t};for(var n=t,r=i.length-1;0<r;r--){var o={};o[i[r]]=n,n=o}return{key:i[0],data:n}})(e&&e.path||e,t),s=e.key,e=v(t=e.data);if(c.attributes[s]&&!e||(r=c.attributes[s],e?r&&r===t||(c.attributes[s]=t,o.push({key:s,value:t})):c.attributes[s]=Array===t.constructor?[]:{}),!e)try{!(function e(t){t=t||{};var i=t.objectToModify;var n=t.complexObject;var r=t.triggerKey;var o=t.triggeringArrayKeyMap;var s=t.triggeringArray;var a=t.uniqueArrayId;if(Array===n.constructor&&Array===i.constructor)return f(r,n),void d(i,n,a);for(var l in n){var c,u;n.hasOwnProperty(l)&&(void 0===n[l]||null===n[l]?h.debug("Received null value for ["+r+"] prop ["+l+"]","_recursiveUpdateModel"):((c=void 0===i[l])&&(f(r,n),void 0!==n[l])&&null!==n[l]&&(i[l]=Array===n[l].constructor?[]:{}),Array===i[l].constructor?(Array!==n[l].constructor&&(n[l]=[n[l]]),(0<n[l].length||c)&&((u={})[l]=n[l],f(r,u),f(r+"."+l,n[l])),d(i[l],n[l],a)):v(n[l])?i[l]!==n[l]&&(c||f(r,n),f(r+"."+l,n[l]),i[l]=n[l]):e({objectToModify:i[l],complexObject:n[l],triggerKey:r+"."+l,triggeringArrayKeyMap:o,triggeringArray:s,uniqueArrayId:a})))}function d(e,t,i){if(t&&0!==t.length)if(i)p(e,t,i);else for(var n=0;n<t.length;n++)e.push(t[n])}function p(e,t,i){for(var n,r={},o=0;o<e.length;o++)n=e[o],r[n[i]]=o;for(var s=0;s<t.length;s++)if(n=t[s],void 0!==r[n[i]])for(var a in n)n.hasOwnProperty(a)&&(e[r[n[i]]][a]=n[a]);else e.push(n)}function f(e,t){o[e]||(o[e]=!0,s.push({key:e,value:t}))}})({objectToModify:c.attributes[s],complexObject:t,triggerKey:s,triggeringArrayKeyMap:{},triggeringArray:o,uniqueArrayId:i})}catch(e){h.error(s+" updateData: "+t+" error message: "+e.message,"recursiveUpdateModel")}if(!n)for(var a=0;a<o.length;a++){l&&h.info("Triggering "+o[a].key+" Value: "+o[a].value,"modify");try{c.trigger("change:"+o[a].key,{key:o[a].key,newValue:o[a].value})}catch(e){h.error("Triggering "+o[a].key+" Value: "+o[a].value+" error message: "+e.message,"modify")}}}},r.LPModel.version=.8,(!window.liveperson.uiframework.latest.LPModel||window.liveperson.uiframework.latest.LPModel.version<.8)&&(window.liveperson.uiframework.latest.LPModel=r.LPModel),r.LPModel.prototype.bind=function(e,t,i,n){var r,o,s,a,l;setTimeout((r=this,o=e,s=t,a=i,l=n,function(){var e=o&&o.path||o,t=(r.getModel().on("change:"+e,s,a),r.get(e));null==t||void 0!==l&&!l||s.call(a,{key:e,newValue:t})}),0)},r.LPModel.prototype.unbind=function(e,t,i){e=e&&e.path||e;null==e?this.getModel().off(null,null,i):this.getModel().off("change:"+e,t,i)},r.LPModel.prototype.toJSON=function(){return this.getModel().toJSON()},r.LPModel.prototype.get=function(e){for(var t=(e&&e.path||e||"").split("."),i=this.getModel().attributes,n=0;n<t.length;n++){if(!i.hasOwnProperty(t[n])){i=void 0;break}i=a(i[t[n]],null,!0)}return i=null!=i&&void 0!==i?i:null},r.LPModel.createPath=function(e,t,i){var n={path:t?t.path+"."+e:e,name:i,createPath:function(e){return r.LPModel.createPath(e,n)},inject:function(e){var t=new RegExp(/_/),t=n.path.replace(t,e);return r.LPModel.createPath(t)}};return n},r.LPModel.prototype.reset=function(){return this.getModel().reset()}})(),window.lpTag=window.lpTag||{},lpTag.uiframework=lpTag.uiframework||{},lpTag.uiframework.LPPersistentModel=function(e,t){var o,r,s,a,l,c,u="LPPersistentModel",d=lpTag.unifiedWindow.log,p=lpTag.taglets.lpUtil,f=!1,v=[],h={get:"getValue",set:"setValue",remove:"removeValue"},g=lpTag.unifiedWindow.apps.UNIFIED_WINDOW;function w(){return o.getModel()}function m(e,t,i){var n,r,o,s,a=w().attributes;d.info("_persistModel model:"+JSON.stringify(a),u),y(h.set,{value:a,success:(o=e,function(e){d.info("_persistSuccess",u),p.runCallback(o,s,e)}),error:(n=t,r=s=i,function(e){d.info("_persistError",u),p.runCallback(n,r,e)}),expires:c})}function i(){d.info("_clearSuccess",u)}function n(){d.info("_clearError",u)}function y(e,t){d.info("_storageCall",u);var t=(function(e,t){var i;if(e&&"function"==typeof e.success&&"function"==typeof e.error){for(var n in i={key:s,site:a,app:g,appName:r,domain:l,firstParty:!0},e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i.success=E(i.success,t),i.error=E(i.error,t),i}})(t,e),i=lpTag.taglets.lpSecureStorage[e];t&&"function"==typeof i&&(f=e!==h.get,p.runCallback(i,this,t))}function E(i,n){return function(e){d.info("_StorageCallback",u),p.runCallback(i,this,e);var e=n,t=v.shift();e!==h.get&&(f=!1),t&&y(t.funcName,t.storageObj)}}return"object"==typeof(e=e)&&e.storageKey&&e.accountId&&e.modelName&&e.secureStorageLocation?(s=e.storageKey,a=e.accountId,r=e.modelName,c=e.expiration||432e5,l=e.secureStorageLocation,o=new window.liveperson.uiframework.latest.LPModel(t)):d.error("init: no conf was provided",u),{load:function(e,t){d.info("load",u);var i,n,r=h.get,e={success:(n=e,function(e){if(d.info("_loadSuccess: data = "+JSON.stringify(e),u),e)if(p.isEmpty(w().attributes))o=new window.liveperson.uiframework.latest.LPModel(e);else for(var t in e){var i=e[t];o.modify(t,i)}p.runCallback(n)}),error:(i=t,function(e){d.info("_loadError error="+JSON.stringify(e),u),i&&p.runCallback(i)})};f?v.push({funcName:r,storageObj:e}):y(r,e)},modify:function(e,t,i,n){var r=e;"object"==typeof r&&void 0!==r.splitKey&&(e=r.splitKey,t=r.updateData,i=r.uniqueArrayId,n=r.silent),d.info("modify",u),o.modify(e,t,i,n),m(r.onSuccess,r.onError,r.context)},getModel:w,get:function(e){return o.get(e)},removeKey:function(e,t){o.removeKey(e,t),m()},bind:function(e,t,i,n){o.bind(e,t,i,n)},unbind:function(e,t,i){o.unbind(e,t,i)},toJSON:function(){return o.toJSON()},createPath:function(e,t){o.createPath(e,t)},clear:function(){o=new window.liveperson.uiframework.latest.LPModel,y(h.remove,{success:i,error:n,expires:c})}}},(function(b){var u=b&&b.ViewController,C=u.prototype,v=lpTag.unifiedWindow.applicationUtils||lpTag.taglets.lpUtil;function r(e,t,i){var n,r;if(t&&t.constructor===Array)for(var o=0;o<t.length;o++)void 0!==(r=s(e,t[o],i))&&((n=n||{})[t[o]]=r);else n=s(e,t,i)||e;return n}function s(e,t,i){if(t)return void 0!==i&&e[t]?(i=parseInt(e[t],i),isNaN(i)?0:i):"string"==typeof(i=e[t])&&0<i.length||"string"!=typeof i&&void 0!==i?i:void 0}u.extend=function(s,a){var e,l=function(r){(r=r||{}).styleFile=r.styleFile||s.styleFile,r.templateFile=r.templateFile||s.templateFile,r.template=r.template||s.template,r.className=r.className||s.className,this.initializePrototype(s),this.parent=r.parent,this.ControllerName=s.ControllerName,this.textMap=s.textMap,this.isViewController=!0,l.instanceCounter=l.instanceCounter||0,l.instanceCounter++;var o,e=a?l.prototype:null,t=r&&r.doNotInitializeView?null:this;if(u.initializePlugins)for(var i=0;i<u.initializePlugins.length;i++)u.initializePlugins[i].call(this,r);function n(e){r.template=e,o.preInitView&&o.preInitView(r);var t,e=o,i=r,n=!1;i?(i._id=i._id||i.elementId,i.styleFile&&e.loadResource(i.styleFile),i.view?(e.view=i.view,e.alreadyInDOM=!0):i.selector?(e.view=e.getFirstElement(i.selector,document.body),e.alreadyInDOM=!0):i._id?(e.view=e.getFirstElement("#"+i._id),e.alreadyInDOM=!0):i.template?(e.view=document.createElement("div"),t=lpTag.taglets.lpUtil.cloneExtend(i&&i.textInjection||e.textInjection||null,e.textMap||null),i.template=e.injectTextDefaults(i.template,t),n=!0,e.view.innerHTML=i.template,"boolean"!=typeof i.wrapWithDiv||i.wrapWithDiv||(e.view=e.view.firstChild)):e.view=document.createElement("div"),i.className&&(t=e.view.className,e.view.className=i.className,t)&&(e.view.className+=" "+t),i._id&&(e.view.id=i._id)):e.view=document.createElement("div"),e.view.id="LP_"+e.ControllerName+"_"+l.instanceCounter,(i&&i.hidden?C.hide:C.show).call(e),n||e.injectTextDefaults(e.view,i?i.textInjection:null),o.initialize(r),o.initialized=!0,setTimeout(function(){var e;if(u.eventsPlugins)for(e=0;e<u.eventsPlugins.length;e++)u.eventsPlugins[e].call(o);if(o.events&&"function"==typeof o.events&&o.events.call(o),u.renderPlugins)for(e=0;e<u.renderPlugins.length;e++)u.renderPlugins[e].call(o);o.render&&"function"==typeof o.render&&o.render.call(o),o.parent&&o.parent.isViewController?o.parent.addViewController({viewController:o,target:r.target}):r.target&&r.target.nodeType&&r.target.appendChild(o.view);var t=r&&r.onInitialize||o.onInitialize;t&&t.call(o,o)},10)}s.initialize&&(this.initialize=c(t,s.initialize,"initialize",e,!0)),s.events&&(this.events=c(t,s.events,"events",e,!0)),s.render&&(this.render=c(t,s.render,"render",e,!1)),r&&r.doNotInitializeView||(this.viewEventsHandler=l.prototype.initViewEventsHandler(this),this.viewControllers=[],o=this,r.templateFile?this.loadResource(r.templateFile,n):Object.keys(r).every(function(e){return void 0===r[e]})||n(r.template))},t=(l.ControllerName=s.ControllerName,l.applicationType=s.applicationType,a||u);for(e in l.prototype=new t({doNotInitializeView:!0}),s)if(s.hasOwnProperty(e))if(!("initialize"===e||"events"===e||"render"===e))if("object"==typeof l.prototype[e])for(var i in s[e])l.prototype[e][i]&&!l.prototype.hasOwnProperty(e)&&(l.prototype[e]=(function(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i})(l.prototype[e])),l.prototype[e][i]=s[e][i];else l.prototype[e]=s[e];return l.extend=function(e){return e.templateFile=e.templateFile||s.templateFile,e.template=e.template||s.template,u.extend(e,l)},l.constructor=l;function c(t,i,n,r,o){return function(e){try{r&&r[n]&&r[n].call(t||this,e),"function"==typeof i&&(i.call(t||this,e),o)&&t&&(t[n]=function(){return this.logger.error("function "+n+" already executed"),{error:"Function "+n+" already executed!"}})}catch(e){this.logger.error("found error executing "+n+", error="+e.message)}}}},u.removeAllPlugins=function(){u.initializePlugins=[],u.eventsPlugins=[],u.disposePlugins=[],u.renderPlugins=[]},C.runCallback=v.runCallback,u.plugin=function(e){if(e)for(var t in e)if(e.hasOwnProperty(t))try{switch(t){case"dispose":case"initialize":case"events":case"render":var i=t+"Plugins";u[i]=u[i]||[],u[i].push(e[t]);break;default:C[t]&&this.logger.error("Plugin is trying to override existing property ["+t+"]"),C[t]=e[t]}}catch(e){this.logger.error("Plugin failed to add property ["+t+"]")}},C.initializePrototype=function(e){u.prototypeInitialized||document.body&&(b.ViewEventsHandler&&(u.viewEventsHandler=new b.ViewEventsHandler(C.logger),C.eventType=u.viewEventsHandler.eventType),C.supportTransitions=""===document.body.style.MozTransition||""===document.body.style.WebkitTransition||""===document.body.style.OTransition||""===document.body.style.transition,C.supportAnimation=C.supportTransitions,C.resourceCache={},C.pendingRequests=[],C.loadingResourceFrame={},u.prototypeInitialized=!0)},C.initViewEventsHandler=function(t){return u.viewEventsHandler?{bindEvent:function(e){(e=e||{}).context=e.context||t,u.viewEventsHandler.bindEvent(e)},unbindEvent:function(e){(e=e||{}).context=e.context||t,u.viewEventsHandler.unbindEvent(e)},fireEvent:function(e){u.viewEventsHandler.fireEvent(e=e||{})},eventType:u.viewEventsHandler.eventType,appNames:u.viewEventsHandler.appNames}:null},C.createView=function(e){var o,t,i;if(e&&(e.elementType||e.template||e.templateFile))return o=null,e.styleFile&&this.loadResource(e.styleFile),e.templateFile?this.loadResource(e.templateFile,(t=this,i=e,function(e){n(t,i,e)})):n(this,e,e.template),o;function n(e,t,i){var n,r;t.templateFile=null,t.template=i,o=t.elementType?document.createElement(t.elementType):document.createElement("div"),t.template?(i=e.injectTextDefaults(t.template,t.textInjection),t.type&&"html"!==t.type?o.appendChild(document.createTextNode(i)):o.innerHTML=i):o=e.injectTextDefaults(o,t.textInjection),void 0===t.wrapWithDiv&&(t.wrapWithDiv=!0),t.wrapWithDiv?(t.hidden&&(o.style.display="none"),t.name&&(o.name=t.name),t.className&&(o.className=t.className),t.elementId&&(o.id=t.elementId)):(o=o.firstChild,t.className&&e.addClass(o,t.className)),t.doNotAddChild||(t.target&&(n="string"==typeof t.target?e.getFirstElement(t.target):t.target),t.beforeView&&(r="string"==typeof t.beforeView?e.getFirstElement(t.beforeView):t.beforeView),o=e.addView({targetView:n||e.view,viewToAdd:o,beforeView:r})),t.view=o,t.callback&&"function"==typeof t.callback&&t.callback.call(e,o,t.data||t.eventData||t.lpEventData)}},C.injectTextDefaults=function(e,t){(t=t||{}).deviceClass=lpTag.unifiedWindow.customization.deviceClass;try{var i;"string"==typeof e?e=this.templateString(e,t):this.isDOMNode(e)&&(""!==e.innerHTML?e.innerHTML=this.templateString(e.innerHTML,t):"string"==typeof(i=e.innerText||e.textContent)&&(i=this.templateString(i,t),e.innerText?e.innerText=i:e.textContent=i))}catch(e){this.logger.error("failed to inject text defaults with exception "+e.message,"injectTextDefaults")}return e},C.templateString=function(e,t){var p=this;return e=i("{{{","}}}",e,t,!1),e=t&&t.ignoreEscapeHTML?i("{{","}}",e,t,!1):i("{{","}}",e,t,!0),e=function(e){if(this.customize)return this.customize(e);return e}.call(p,e);function i(e,t,i,n,r){for(var o,s,a,l=i,c=e.length,u=t.length,d=l.indexOf(e);-1<d;)d=(l=-1<(a=l.substring(d+=c).indexOf(t))?(o=l.substring(d,d+a),s=n&&n[o]||f.call(p,o),void 0!==(s=n&&void 0!==n[o]?n[o]:s)&&(r&&v.escapeHTML&&(s=v.escapeHTML(s)),i=i.replace(e+o+t,s)),l.substring(d+a+u)):l.substring(d+u)).indexOf(e);return i}function f(e){var t;return(t=void 0===(t=this.translate?this.translate(e):t)&&this.theme?this.theme(e):t)||e}},C.viewControllersInitialized=function(){for(var e=!0,t=0;t<this.viewControllers.length;t++)if(!this.viewControllers[t].initialized){e=!1;break}return e},C.addViewController=function(e){var t,i,n,r=e.viewController||e;if(!r.isViewController)return{error:"ViewController#addViewController - Request is not a viewController and does not contain viewController"};r.initialized?(this.viewControllers.push(r),e.hidden&&r.lpHide(),r.alreadyInDOM||(e.target&&(n="string"==typeof e.target?this.getFirstElement(e.target):e.target),this.addView({targetView:n||this.view,viewToAdd:r.view,beforeView:e.beforeView}))):setTimeout((t=this,i=r,function(){t.addViewController.call(t,i)}),5)},C.removeView=function(e){e&&(e=e.view||e,this.isDOMNode(e))&&e.parentNode&&e.parentNode.removeChild(e)},C.addView=function(e){if(e.targetView&&this.isDOMNode(e.targetView))return e.beforeView&&this.isDOMNode(e.beforeView)?e.targetView.insertBefore(e.viewToAdd,e.beforeView):e.targetView.appendChild(e.viewToAdd),e.viewToAdd;this.logger.error("Wrong view to add ["+e.targetView+"]","addView")},C.isDOMNode=function(e){return e&&(e.nodeType===this.elementTypes.ELEMENT||e===this.elementTypes.FRAGMENT_DOCUMENT)},C.removeViewController=function(e){var t=e.viewController||e;if(this.viewControllers)for(var i=0;i<this.viewControllers.length;i++)if(this.viewControllers[i]===t){t.dispose(),this.viewControllers.splice(i,1);break}},C.dispose=function(){var e,t;if(this.appContext&&this.appContext.events&&this.appContext.events.unbind({context:this}),u.disposePlugins)for(e=0;e<u.disposePlugins.length;e++)u.disposePlugins[e]&&u.disposePlugins[e].call(this);if(this.unbindViewEvent(),this.viewEventsHandler&&this.viewEventsHandler.unbindEvent(),this.viewControllers){for(e=0;e<this.viewControllers.length;e++)this.viewControllers[e]&&(this.viewControllers[e].dispose(),this.viewControllers[e]=null);this.viewControllers.length=0}for(t in this.view&&(this.view.style.display="none",this.view.innerHTML=""),this.view&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this)this.hasOwnProperty(t)&&(this[t]=null,delete this[t])},C.elementTypes={ELEMENT:1,ATTRIBUTE:2,TEXT:3,COMMENTS:8,DOCUMENT:9,FRAGMENT_DOCUMENT:11},C.ANIMATION_CLASS_PREFIX="lpViewAnimationClass",C.getElements=function(e,t){if("body"===e)return[document.body];var i=this.isDOMNode(t)?t:this.view;if(""!==e&&"string"==typeof e&&0<e.length&&i)switch((e=this.trim(e)).charAt(0)){case"#":var n=document.getElementById(e.substring(1));if(n)return[n];break;case".":return this.getElementsByClass(i,e.substring(1),[]);case"^":return i.querySelectorAll('[data-lp-point="{{point}}"]'.replace("{{point}}",e.substring(1)));default:if(e.indexOf("<")<0)return i.getElementsByTagName(e)}return[]},C.getFirstElement=function(e,t){var i=t||this.view;return e?this.isDOMNode(e)?e:(e=this.getElements(e,t))&&!this.isDOMNode(e)&&(e.constructor===Array||e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===window.StaticNodeList||(e instanceof NodeList||e instanceof HTMLCollection)&&e[0])?e[0]:e:i},C.getElementsByClass=function(e,t,i){if(e&&this.isDOMNode(e)){e&&e.className&&this.hasSingleClass(e,t)&&i.push(e);for(var n=document.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t),r=0;r<n.length;r++)i.push(n[r])}return i},C.hasAtLeastOneClass=function(e,t,i){for(var n=this.hasClass(e,t,i),r=0;r<n.length;r++)if(n[r])return!0;return!1},C.hasClass=function(e,t,i){t=t.constructor===Array?t:[t];for(var n=[],r=0;r<t.length;r++)n.push(!1);var o="";if(this.isDOMNode(e)&&void 0!==e.className){for(var s=e.className.split(" ")||e.className,a=0;a<s.length;a++){for(var l=!0,c=0;c<t.length;c++)t[c]===s[a]&&(l=!(n[c]=!0));i&&l&&(o+=" "+s[a])}i&&(o=o.replace(/^\s\s*/,""),e.className=o)}else this.logger.error("Unable to check 'hasClass' for "+e+" queryClass: "+t+" element.className="+e.className,"hasClass");return n},C.hasSingleClass=function(e,t,i){e=this.hasClass(e,t,i);return 1===e.length?e[0]:e},C.addClassMultiElements=function(e,t){"string"==typeof e&&(e=this.getElements(e));for(var i=0;i<e.length;i++)this.addClass(e[i],t)},C.addElement=function(e,t,i){function n(e){r.appendChild(e)}var r=this.getElements(t,e);r&&(this.isDOMNode(i)?n(i):this.loadResource(i,n))},C.addClass=function(e,t,i){if("string"==typeof e&&(e=this.getFirstElement(e)),t=t.constructor===Array?t:[t],this.isDOMNode(e)){var n=e.className;if(n)for(var r=this.hasClass(e,t),o=0;o<r.length;o++)!1===r[o]&&(n+=" "+t[o]);else for(var s=0;s<t.length;s++)n+=t[s]+" ";e.className=this.trim(n)}else this.logger.error("Unable to add class to "+e+" Class: "+t,"addClass");var a;"number"==typeof i&&(a=this,setTimeout(function(){a.removeClass(e,t)},i))},C.removeClassMultiElements=function(e,t,i){"string"==typeof e&&(e=this.getElements(e));for(var n=0;n<e.length;n++)this.removeClass(e[n],t,i)},C.removeClass=function(e,t,i){if("string"==typeof e&&(e=this.getFirstElement(e)),this.isDOMNode(e)&&(this.hasClass(e,t,!0),i)&&e.hasChildNodes())for(var n=e.childNodes,r=0;n.length;r++)this.isDOMNode(n[r])&&this.removeClass(n[r],t,i)},C.toggleClass=function(e,t,i){for(var n=(e="string"==typeof e?this.getFirstElement(e):e).className.split(" "),r=!1,o=!1,s=0;s<n.length;s++)n[s]===t?(i||(o=!0),n[s]=i):n[s]===i&&(n[s]=t);return i||o||(n.push(t),r=!0),e.className=this.trim(n.join(" ")),r},C.css=function(e,t,i){for(var n=e.style.cssText.split(";"),r={},o=0;o<n.length;o++){var s=n[o].split(":"),a=this.trim(s[0]).toLowerCase();i&&-1!==window.lpTag.taglets.lpUtil.indexOf(i,a)||(s=this.trim(s[1]),a&&void 0===t[a]&&(r[a]=s))}var l,c,u="";for(l in r)r.hasOwnProperty(l)&&(u+=l+":"+r[l]+";");for(c in t)t.hasOwnProperty(c)&&(u+=c+":"+t[c]+";");e.style.cssText=u},C.getTransitionType=function(){return C.transitionType||(""===document.body.style.MozTransition?C.transitionType="-moz-transition":""===document.body.style.WebkitTransition?C.transitionType="-webkit-transition":""===document.body.style.OTransition?C.transitionType="-o-transition":C.transitionType="transition"),C.transitionType},C.getTransitionDuration=function(){return C.transitionDuration||(""===document.body.style.MozTransition?C.transitionDuration="-moz-transition-duration":""===document.body.style.WebkitTransition?C.transitionDuration="-webkit-transition-duration":""===document.body.style.OTransition?C.transitionDuration="-o-transition-duration":C.transitionDuration="transition-duration"),C.transitionDuration},C.getTransitionEnd=function(e){return C.transitionEnd||(""===document.body.style.MozTransition?C.transitionEnd="transitionend":""===document.body.style.WebkitTransition?C.transitionEnd="webkitTransitionEnd":""===document.body.style.OTransition?C.transitionEnd="OTransitionEnd":C.transitionEnd="transitionend"),C.transitionEnd},C.setStyle=function(e,t){for(var i="string"==typeof e?this.getElements(e):[e],n=0;n<i.length;n++)for(var r in t)t.hasOwnProperty(r)&&(i[n].style[r]=t[r])},C.getInlineStyle=function(e,t,i){return"string"==typeof e&&(e=this.getFirstElement(e)),this.isDOMNode(e)?r(e.style,t,i):""},C.getComputedStyle=function(e,t,i){var n={};if("string"==typeof e&&(e=this.getFirstElement(e)),!this.isDOMNode(e))return"";if(document.defaultView&&document.defaultView.getComputedStyle)n=document.defaultView.getComputedStyle(e,"");else if(e.currentStyle){if("height"===t)return e.offsetHeight;n=e.currentStyle}else n=e.style;return r(n,t,i)},C.animate=function(t,i,n){if(this.isDOMNode(t))if(this.supportAnimation)(o=this).addClass(t,o.ANIMATION_CLASS_PREFIX),setTimeout(function(){for(var e in setTimeout(function(){o.removeClass(t,o.ANIMATION_CLASS_PREFIX),t.style[o.getTransitionDuration()]="",n&&setTimeout(function(){n.call(o)},0)},i.duration),i)i.hasOwnProperty(e)&&("duration"===e?t.style[o.getTransitionDuration()]=i[e]+"ms":t.style[e]=i[e])},0);else{var e,r=this;for(e in i)i.hasOwnProperty(e)&&"duration"!==e&&(t.style[e]=i[e]);n&&n.call(r)}var o},C.preventDefault=function(e){e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},C.stopPropagation=function(e){e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},C.changePosition=function(e,t){var i,n;e&&e.style&&e.style.position!==t&&("string"==typeof e&&(e=this.getFirstElement(e)),i=this.getElementRect("fixed"===t?e:e.parentNode),n={position:t},"absolute"===t?(n.left=parseInt(e.style.left,10)-i.left+"px",n.top=parseInt(e.style.top,10)-i.top+"px"):(n.left=i.left+"px",n.top=i.top+"px"),this.css(e,n))},C.getElementRect=function(e){var i=0,n=0;return(function e(t){i+=t.offsetLeft;n+=t.offsetTop;t.offsetParent&&e(t.offsetParent)})(e),{top:n,bottom:n+e.offsetHeight,left:i,right:i+e.offsetWidth,width:e.offsetWidth,height:e.offsetHeight}},C.reflow=function(){var e=this.getComputedStyle(this.view,"top",10),t=this;e=isNaN(e)?0:e,this.view.style.top=e+1+"px",setTimeout(function(){t.view.style.top=e+"px"},5)},C.bindViewEvent=function(e){if(e&&e.DOMEvent){this.bindedViewEventsMap||(this.bindedViewEventsMap=[]);for(var t,i,n=this.createViewEvent(e),r=e.selector&&e.selector===window?[window]:e.view?[e.view]:e.selector?this.getElements(e.selector,e.inView):[this.view],o=0;o<r.length;o++)(i=r[o]).addEventListener?("transition"===(t=e.DOMEvent)&&this.supportTransitions&&(t=this.getTransitionEnd(t)),i.addEventListener(t,n,!1)):i.attachEvent&&(t=e.DOMEvent,i.attachEvent("on"+t,n)),this.bindedViewEventsMap.push({view:i,DOMEvent:t,callback:n,originalCallback:e.callback}),i=null;t=i=null}},C.createViewEvent=function(i){var n=i.context||this;return function(t){if(t=t||event,i.ignoreChildBlur){var e=i.selector?n.getFirstElement(i.selector):n.view;if(n.isEventFromChild(t,e,i.includeSelf))return}if(i.callback&&"function"==typeof i.callback){t.eventSelector=i.selector;try{t.sourceElement=t.target||t.relatedTarget||t.srcElement,t.eventData=i.eventData,t.data=i.data,t.lpEventData=i.lpEventData,t.context=n,i.delayEvent&&!isNaN(i.delayEvent)?setTimeout(function(){i.callback.call(n,t)},i.delayEvent):i.callback.call(n,t)}catch(e){n.logger.error(e+" "+t,i)}}i.appName&&!t.preventFireUIEvent&&u.viewEventsHandler.fireEvent({appName:i.appName,UIEvent:i.UIEvent||i.DOMEvent,eventData:i.eventData||i.lpEventData||i.data})}},C.isEventFromChild=function(e,t,i){var n,r=!1;return i="boolean"!=typeof i||i,"focusout"===e.type&&(e.relatedTarget||e.toElement)&&(n=e.toElement||e.relatedTarget,e=e.target||e.srcElement,t=t.contains(n),r=i?t||e===n:t&&e!==n),r},C.getViewEvent=function(e){if(this.bindedViewEventsMap){for(var t,i=0;i<this.bindedViewEventsMap.length;i++){var n=this.bindedViewEventsMap[i];if(n&&n.view===e.view&&n.DOMEvent===e.DOMEvent&&(e.callback===n.callback||e.callback===n.originalCallback))return(t=n).index=i,t}return t}},C.unbindViewEvent=function(e){for(var t,i=(i=e||this.bindedViewEventsMap||[]).constructor===Array?i:[i],n=0;n<i.length;n++)if((t=i[n])&&t.selector)for(var r=this.getElements(t.selector,t.inView),o=0;o<r.length;o++)s(this.getViewEvent({view:r[n],DOMEvent:t.DOMEvent,callback:t.callback}),this.bindedViewEventsMap,this.logger);else s(this.getViewEvent(t),this.bindedViewEventsMap,this.logger);function s(e,t,i){try{e&&e.view&&(window.removeEventListener?e.view.removeEventListener(e.DOMEvent,e.callback,!1):window.detachEvent&&e.view.detachEvent("on"+e.DOMEvent,e.callback),t[e.index])&&(t[e.index]=null,t.splice(e.index,1))}catch(e){i.error(e+" "+e.message,"unbindSingleViewEvent")}}t=r=null},C.isVisible=function(e){var t=e;return"string"==typeof e&&(t=this.getFirstElement(e)),!!this.isDOMNode(t)&&!("none"===this.getComputedStyle(t,"display")||"none"===t.style.display)},C.toggle=function(e,t,i,n){e?this.show(t,i,n):this.hide(t,i,n)},C.lpHide=function(e,t,i){this.hide(e,t,i)},C.hide=function(e,t,i){"object"!=typeof e||this.isDOMNode(e)||(t=(r=e||{}).parentScope,i=r.animate,e=r.view,n=r.useClasses),e&&e!=this.view||(this.visible=!1);var n,r,o,s=e||this.view;t=t&&("string"==typeof t?this.getFirstElement(t):t),"string"==typeof s&&(s=this.getFirstElement(s,t)),this.isDOMNode(s)?i?(o=this).animate(s,{duration:250,opacity:0},function(){n?o.addClass(s,"lpHide"):s.style.display="none",s=null}):n?this.addClass(s,"lpHide"):s.style.display="none":this.logger.error("Received viewToHide which is not a view or string - "+e,"lpHide")},C.focus=function(e){e&&("string"==typeof e&&(e=this.getFirstElement(e)),parseInt(this.getComputedStyle(e,"height"),10))&&e.focus()},C.lpShow=function(e,t,i){this.show(e,t,i)},C.show=function(e,t,i){"object"!=typeof e||this.isDOMNode(e)||(t=(o=e||{}).parentScope,i=o.animate,e=o.view,n=o.useClasses,o.display&&(r=o.display)),e&&e!==this.view||(this.visible=!0);var n,r,o=e||this.view;t=t&&("string"==typeof t?this.getFirstElement(t):t),"string"==typeof e&&(o=this.getFirstElement(o,t)),this.isDOMNode(o)?i?(o.style.opacity=0,n?(this.removeClass(o,"lpHide"),r&&(o.style.display=r)):o.style.display="block",this.animate(o,{duration:250,opacity:1})):n?(this.removeClass(o,"lpHide"),r&&(o.style.display=r)):o.style.display="block":this.logger.error("Received viewToShow which is not a view or string - "+e,"lpShow")},C.setEnabled=function(e,t){t=this.getFirstElement(t||this.view);t.disabled=e?null:"disabled"},C.loadMultiResource=function(i,n,r){var o=[],s=0;i instanceof Array?this.loadSingleResource(i[s],function e(t){s++,o.push(t),s<i.length?this.loadSingleResource(i[s],e,r):n.call(this,o)},r):this.loadSingleResource(i,function(e){n.call(this,[e])},r)},C.loadResource=function(e,t,i,n){if(!(e instanceof Array))return this.loadSingleResource(e,t,i,n);var r=e,o=0,s=this;this.loadSingleResource(r[o],function e(){++o==r.length-1?s.loadSingleResource(r[o],t,i,n):s.loadSingleResource(r[o],e,i)},i)},C.loadSingleResource=function(e,t,i,n){if(void 0===e||0<=e.indexOf("{")||0<=e.indexOf("<"))return t&&"function"==typeof t&&t.call(this,e),e;var r=this.resourceCache||C.resourceCache;if(r[e])return t&&"function"==typeof t&&t.call(this,r[e]),r[e];r=e.split(".");switch(r[r.length-1]){case"js":var o=e,s=m(this,t),a=m(this,i),l=document.createElement("script");l.setAttribute("type","text/javascript"),l.async=!0,s&&(l.onload=s),a&&(l.onerror=a),l.setAttribute("src",""+o);break;case"css":s=this,a=e,l=n;(l=l&&l.cssLocation?l.cssLocation:s.configuration&&s.configuration.cssLocation?s.configuration.cssLocation:b.configuration&&b.configuration.cssLocation)&&((s=document.createElement("link")).setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href",l+a),void 0!==s)&&document.getElementsByTagName("head")[0].appendChild(s);break;case"html":var o=this,c=e,u=t,d=n,p=C.resourceCache,f=C,v=(function(e,t){return!e||0!==e.indexOf("http")||(e=E(e),t=E(t),e===t)})(d=d&&d.htmlLocation?d.htmlLocation:o.configuration&&o.configuration.htmlLocation?o.configuration.htmlLocation:b.configuration&&b.configuration.htmlLocation,window.location.href);if(d&&!v&&window.addEventListener){v=E(d);if(!f.loadingResourceFrame[v]){var h,g=document.createElement("iframe"),w=(f.loadingResourceFrame[v]={frame:g},g.style.position="fixed",g.style.top="-1000px",g.style.left="-1000px",g.style.width="1px",g.style.height="1px",g.src=d+"loadResource.html",0);for(h in f.loadingResourceFrame)f.loadingResourceFrame.hasOwnProperty(h)&&w++;1===w&&window.addEventListener("message",function(e){var t,i=new URL(g.src),i=i.protocol+"//"+i.hostname;e.origin===i&&(i=e).data&&0===i.data.indexOf("uiframework_load")&&((e=C).loadingResourceFrame[i.origin].iframeLoaded=!0,i&&i.data&&0<=i.data.indexOf(":")&&(t=i.data.substring(i.data.indexOf(":")+1))&&(i=i.data.substring("uiframework_load".length,i.data.indexOf(":")),e.resourceCache[i]=t,e.pendingResponse.callback.call(e.pendingResponse.context,e.resourceCache[i]),e.pendingResponse=null,delete e.pendingResponse),y())},!1),document.body.appendChild(g)}f.pendingRequests.push({filename:c,context:o,callback:u,location:d}),y()}else{v=new XMLHttpRequest;v.open("GET",(d||"")+c,!1),v.send(null),p[c]=v.responseText,u.call(o,p[c])}}return null;function m(t,i){return function(e){i.call(t,e)}}function y(){var e,t,i=C;i.pendingResponse||0<i.pendingRequests.length&&(t=E(i.pendingRequests[0].location),i.loadingResourceFrame[t].iframeLoaded)&&(e=i.pendingRequests.shift(),i.resourceCache[e.filename]?(e.callback.call(e.context,i.resourceCache[e.filename]),y()):(i.loadingResourceFrame[t].frame.contentWindow.postMessage(e.filename,"*"),i.pendingResponse=e))}function E(e){var e=new RegExp(/(http{1}s{0,1}?:\/\/){0,1}([^\/\?]+)(\/?)/gi).exec(e),t=null;return t=e&&3<=e.length&&""!==e[2]?e[1]+e[2].toLowerCase():t}},C.trim=v.trim})(createFrameworkGlobals()),(function(){window.liveperson=window.liveperson||{},window.liveperson.uiframework=window.liveperson.uiframework||{},window.liveperson.uiframework.latest=window.liveperson.uiframework.latest||{};var t=window.liveperson.uiframework;t["v0.8"]=t["v0.8"]||{},!(t=t["v0.8"]).ViewEventsHandler&&(t.ViewEventsHandler=function(e){var n=this.eventType.VISITOR_FOCUSED,r=this.eventType.VISITOR_BLURRED,o={},s=new t.LPModel(null,e);this.bindEvent=function(e){o[e.appName]||(o[e.appName]={}),o[e.appName][e.UIEvent]=!0,s.bind(e.appName+"_"+e.UIEvent,e.callback,e.context)},this.unbindEvent=function(e){var t=e.callback||null,i=e.context||null,n=null;if(e.appName)if(n=e.appName,e.UIEvent)n=e.appName+"_"+e.UIEvent;else for(var r in o[e.appName])o[e.appName].hasOwnProperty(r)&&(r={appName:e.appName,UIEvent:r,context:i,callback:t},this.unbindEvent(r));s.unbind(n,t,i)},this.fireEvent=function(e){var t,i={timeStamp:(new Date).getTime(),appName:e.appName,UIEvent:e.UIEvent};e.eventData&&(i.eventData=e.eventData),e.lpEventData&&(i.lpEventData=e.lpEventData),e.data&&(i.data=e.data),e.UIEvent!==n&&e.UIEvent!==r||(t=e.appName+"_"+(e.UIEvent===n?r:n),s.get(t)&&s.removeKey(t,!1)),s.modify(e.appName+"_"+e.UIEvent,i),(e.deleteOnFire||e.runOnce)&&s.removeKey(e.appName+"_"+e.UIEvent,!1)}},t.ViewEventsHandler.prototype.eventType={},t.ViewEventsHandler.version=.8,!window.liveperson.uiframework.latest.ViewEventsHandler||window.liveperson.uiframework.latest.ViewEventsHandler.version<.8)&&(window.liveperson.uiframework.latest.ViewEventsHandler=t.ViewEventsHandler)})();